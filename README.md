# HackSchoolElectronicDiary

Скрипт предназначен для удаления плохих оценок, удаления замечаний и создания похвалы по заданному предмету

## Как запустить

1. Для начала необходимо запустить сайт. Скачайте код сайта с [репозитория с электронным дневником](https://github.com/devmanorg/e-diary/tree/master) и запустите его, следуя инструкциям из `README.md`

2. Скачайте [БД школьного электронного дневника Вани](https://dvmn.org/filer/canonical/1562234129/166/) (или свою собственную) и замените ею `schoolbase.sqlite3`, которая была получена на предыдущем шаге.

3. Скопируйте файлы `scripts.py` и `commendations.txt` в главную директорию рядом с `manage.py`

4. Для выполнения скрипта запустите `Django shell` набрав следующую команду в терминале:
```
python3 manage.py shell
```

5. Далее в открывшееся приглашение вставьте всё содержимое файла `scripts.py` **кроме последних трех строк:**
```
from datacenter.models import Schoolkid, Subject, Lesson
from datacenter.models import Mark, Chastisement, Commendation
.
.
.
    Commendation.objects.create(text=text, created=last_lesson.date,
                                schoolkid=schoolkid, subject=subject,
                                teacher=teacher)
```

Последние три строки из `scripts.py` вызывают следующие функции:

`fix_marks('Имя ученика')` - исправляет все оценки данного ученика с "2" и "3" на "5"

`remove_chastisements('Имя ученика')` - удаляет все замечания к ученику

`create_commendation('Имя ученика', 'Предмет')` - добавляет похвалу ученику к его последнему уроку по заданному предмету. Текст случайным образом берется из `commendations.txt`

6. Скопируйте строку с нужной функцией и вставьте её в Django shell. Замените соответствующие аргументы `'Имя ученика'` и `'Предмет'` на необходимые (предусмотрена возможность ввода части ФИО) и запустите.

7. Результат можно проверить на сайте открыв в браузере `127.0.0.1:8000` (сервер должен быть запущен! См. п.1)

## Цели проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [Devman](https://dvmn.org).
